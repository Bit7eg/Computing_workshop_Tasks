#Репозиторий с решениями задач по предмету "Вычислительный практикум"

##Задача 1:

###Условие:
>__Построение:__  
>Построить функцию f(x), которая определена всюду
на отрезке [a, b] и в некоторых точках этого отрезка
принимает заданные значения:
f(x[i]) = y[i], a = x[0] < x[1] < ... < x[N] = b
(x[i] могут быть расположены на [a, b] неравномерно)  
>- f(x) - непрерывная функция, полином 1-й степени
на каждом интервале [ x[i], x[i+1] ];
>- f(x) - полином N-й степени (в форме Ньютона);
> 
>__Входные параметры__: x[i], y[i], N, x*
>(i = 0, ..., N; x* принадлежит [a, b]);\
>__Результат__: f(x*);
> 
> __Визуальная проверка:__  
> За y[i] принять значения известной функции, то есть 
> положить y[i] = g(x[i]), (g(x[i]), x принадлежит [a, b] 
> задавать в процедуре-функции). Изобразить на одном 
> графике: 
>- интерполируемую функцию g(x);
>- интерполирующую функцию f(x);
>- особо выделить значения в узлах интерполяции.
> 
> Что происходит при изменении числа узлов интерполяции N?
###Решение:
Выполение программы начинается классом Task1. 
Этот класс содержит только метод main, который вызывается при запуске 
программы, создаёт объект окна, в котором создаётся панель управления 
и рисуются графики, и отрисовывает его.

Основной функционал программы определяется классом Interpolation. 
Interpolation содержит закрытый вложенный класс Pair, который 
используется для более удобной организации некоторой информации. Этот 
класс имеет два доступных для изменения свойства, тип которых задаётся 
для каждого объекта отдельно, единственный конструктор, требующий данные 
для свойств создаваемого объекта, и стандартные для всех объектов 
определения методов равенства двух объектов (equals) и получения 
хэш-кода объекта (hashCode)
####Описание свойств Interpolation:
_XAndDividedDifference_. Это свойство хранит пары 
"узел - разделённая разность", где очерёдность узлов соостветствует 
очерёдности их получения объектом класса Interpolation, а номер элемента 
из ArrayList соответствует порядку разделённой разности для всех узлов, 
чей номер в этом ArrayList меньше  
Изначально типом этого свойства планировалось выбрать 
HashMap<Double, Double>, так как этот тип обеспечивает удобную работу с 
набором пар элементов. Однако HashMap сортирует элементы по хэш-коду 
ключа (ключом планировалось выбрать значение узла), что не подходит для 
решения задачи, так как очерёдность узлов должна была сохранять 
очерёдность их получения. Поэтому было принято решение написать 
закрытый внутренний класс Pair, а само свойство сделать типа 
ArrayList<Pair<Double, Double>>. ArrayList очень похож на обычный массив,
но обладает дополнительными возможностями, которые облегчают работу с 
эелементами, а Pair позволяет удобно организовать хранение и 
использование разделённых разностей вместе с узлами интерполяции.  

_XtoY_. Это свойство хранит пары "узел - значение", где пары 
располагаются по возрастанию значения узла. Типом этого свойства был 
выбран TreeMap<Double, Double>, так как он обеспечивает удобную работу
с набором пар элементов и автоматически сортирует пары по значению 
ключа, используя указанное условие. В качестве ключа выбран узел, а 
сортируются пары по возрастанию значения узла.  
___
####Описание конструкторов Interpolation:  
_Interpolation()_. Конструктор по умолчанию. Создаёт объект ArrayList, 
который присвивается свойству XAndDividedDifference.  

_Interpolation(Integer pairsNumber)_. Принимает значение ожидаемого 
количества пар "узел - значение". Создаёт объект ArrayList заданного 
размера и присваивает его свойству XAndDividedDifference.  
___
####Описание методов Interpolation:  
_putPair(Double x, Double y)_. Открытый метод. Используется для 
добавления новой пары "узел - значение", по которым затем происходит 
интерполяция. Полученную пару добавляет в свойство XtoY. Так же считает 
значение разделённой разности для всех известных ранее узлов и добавляет 
рассчитанную пару в свойство XAndDividedDifference.  

_dividedDifference()_. Закрытый метод. Рассчитывает разделённую разность.
Использует следующую формулу рассчёта:  
![Формула разделённой разности](https://scask.ru/archive/arch.php?path=../htm/alnam/book_bcm/files.book&file=bcm_13.files/image12.gif)

_getPairsCount()_. Открытый метод. Возвращает количество используемых узлов.

_getHigherNode(Double x)_. Открытый метод. Возвращает значение наименьшего узла, значение 
которого больше переданного значения.

_getLowerNode(Double x)_. Открытый метод. Возвращает значение наибольшего узла, значение
которого меньше переданного значения.

_getNodeValue(Double nodeKey)_. Открытый метод. Возвращает значение интерполируемой 
функции, если узел с переданным значением существует.

_clear()_. Открытый метод. Удаляет данные из всех свойств.

_lineFunctionY(Double x)_. Открытый метод. Возвращает значение кусочно-линейной функции, 
построенной по узлам интерполяции, в точке x. Этот метод сначала ищет 
между какими узлами находится значение x. Затем, зная значения функции в 
узлах таких что,  
g(x1) = y1, g(x2) = y2, x1 <= x < x2  
вычисляет значение кусочно-линейной функции в точке x по формуле  
(x - x1)/(x2 - x1) * (x2 - x1) + x1

_polynomialFunctionY(Double x)_. Открытый метод. Возвращает значение интерполяционного 
полинома, построенного по узлам интерполяции, в точке x. Этот метод, 
используя разделённые разности в качестве коэффициентов, вычисляет 
интерполяционный полином в форме Ньютона по следующей формуле:  
![Интерполяционный полином в форме Ньютона](https://matica.org.ua/images/stories/Gusak/0-11412.jpg)

_getLowerXBound()_. Открытый метод. Возвращает значение наименьшего узла.

_getLowerYBound()_. Открытый метод. Возвращает наименьшее среди значений функции от узлов.

_getUpperXBound()_. Открытый метод. Возвращает значение наибольшего узла.

_getUpperYBound()_. Открытый метод. Возвращает наибольшее среди значений функции от узлов.

_clone()_. Открытый метод. Возвращает копию объекта.
___
Другим важным классом является GraphicPanel. Он описывает поле окна, на 
котором рисуются все необходимые графики.
####Описание свойств GraphicPanel:
_function_. Хранит интерполируемую функцию и позволяет рассчитать её 
значение в точке.

_nodeCoefficient_. Хранит функцию, которая рассчитывает множитель шага для
узлов интерполяции. Нужна для контроля распределения узлов.

_interpolationObj_. Хранит объект, который обеспечивает возможность 
интерполирования функций.

_functionColor_. Хранит цвет интерполируемой функции.

_polynomialColor_. Хранит цвет интерполяционного полинома.

_lineColor_. Хранит цвет кусочно-линейной функции.

_nodeColor_. Хранит цвет узлов интерполяции.

_minX_. Хранит значение левого края отрезка [a, b].

_maxX_. Хранит значение правого края отрезка [a, b].

_minY_. Хранит минимальное отображаемое значение функций.

_maxY_. Хранит максимальное отображаемое значение функций.

_argumentsNumber_. Хранит количество узлов.

_width_. Хранит ширину поля, на котором рисуются графики, в пикселях.

_height_. Хранит высоту поля, на котором рисуются графики, в пикселях.
___
####Описание конструкторов GraphicPanel:
_GraphicPanel()_. Конструктор по умолчанию. Создаёт объект класса 
Interpolation, интерполирует функцию h(x) = 0.

_GraphicPanel(Function<Double, Double> func)_. Принимает функцию, которую 
необходимо интерполировать. Сохраняет полученную функцию, создаёт объект 
класса Interpolation, интерполирует полученную функцию, равномерно 
распределяя узлы интерполяции.

_GraphicPanel(Function<Double, Double> func, Function<Integer, Double> nodeCoefficient)_.
Принимает функцию, которую необходимо интерполировать, и функцию, которая 
рассчитывает множитель шага для узлов интерполяции. Сохраняет полученные 
функции, создаёт объект класса Interpolation, интерполирует заданную 
функцию, используя другую для распределения узлов интерполяции.
___
####Описание методов GraphicPanel:
_updateGraphic()_. Открытый метод. Больше делалась для себя, так как при
обновилении окна необходимо совершать дополнительные действия. Все такие 
действия собраны в этой функции. Однако было решено, что будет полезно 
оставить эту функцию открытой.

_paint(Graphics g)_. Открытый метод. Определяет логику отрисовки поля.
Методы, вызываемые здесь, можно было объединить в один, но при таком 
разделении на логические части код становится более читаемым.

_setFunctionColor(String color)_. Открытый метод. Преобразовывает 
получаемую строку в цвет. Если преобразование удачное, то цвет 
устанавливается как цвет интерполируемой функции, иначе устанавливается 
стандартный цвет. Возвращает установленный цвет.

_setPolynomialColor(String color)_. Открытый метод. Преобразовывает
получаемую строку в цвет. Если преобразование удачное, то цвет
устанавливается как цвет интерполяционного полинома, иначе устанавливается
стандартный цвет. Возвращает установленный цвет.

_setLineFuncColor(String color)_. Открытый метод. Преобразовывает
получаемую строку в цвет. Если преобразование удачное, то цвет
устанавливается как цвет кусочно-линейной функции, иначе устанавливается
стандартный цвет. Возвращает установленный цвет.

_setNodeColor(String color)_. Открытый метод. Преобразовывает
получаемую строку в цвет. Если преобразование удачное, то цвет
устанавливается как цвет узлов интерполяции, иначе устанавливается
стандартный цвет. Возвращает установленный цвет.

_setMinX(String minX)_. Открытый метод. Преобразовывает получаемую 
строку в число с плавающей запятой. Если преобразование удачное, то число
устанавливается как значение левого края отрезка [a, b], иначе 
устанавливается стандартное значение. Возвращает установленное значение.

_setMaxX(String maxX)_. Открытый метод. Преобразовывает получаемую
строку в число с плавающей запятой. Если преобразование удачное, то число
устанавливается как значение правого края отрезка [a, b], иначе
устанавливается стандартное значение. Возвращает установленное значение.

_setArgumentsNumber(String number)_. Открытый метод. Преобразовывает 
получаемую строку в целое число. Если преобразование удачное, то число
устанавливается как значение количества узлов интерполяции, иначе
устанавливается стандартное значение. Возвращает установленное значение.

_yBoundsCalc()_. Закрытый метод. Рассчитывает максимальное и минимальное 
отображаемые значения функций. Ищет перебором по ширине экрана максимальное
и минимальное значения среди значений полиномов и расширяет полученный 
диапазон на 10% (на 5% вниз и на 5% вверх), просто потому что мне кажется 
так красивее. При переборе координаты пикселя преобразуются в 
соответствующие им числа на отрезке [a, b]. Сначала отрезок масштабируется 
на коэффициент вычисленный по формуле (b - a)/w, где a и b - края отрезка, 
а w - ширина поля. Затем отрезок сдвигается на a правее.

_interpolationReload()_. Закрытый метод. Распределеят узлы, интерполирует
заданную функцию и рассчитывает максимальное и минимальное отображаемые 
значения функций. Шаг на отрезке [a, b] для n узлов рассчитывается по 
формуле (b - a)/(n - 1). После чего корректируется функцией для контроля 
распределения узлов.

_drawGrid(Graphics g)_. Закрытый метод. Рисует сетку на фоне графиков и 
расставляет подписи координат возле координатных осей.

__.

__.
